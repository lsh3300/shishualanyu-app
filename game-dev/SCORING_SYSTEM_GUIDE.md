# 🎯 评分系统完全指南
## Scoring System Complete Guide

**更新时间**: 2025-11-30 15:25  
**状态**: ✅ 已实现并支持测试模式

---

## 🎮 评分何时开始？

### 现在就可以！（测试模式）

你**不需要登录**就可以体验评分系统！

**测试模式特性**：
- ✅ 无需登录账号
- ✅ 立即获得评分结果
- ✅ 所有评分算法正常工作
- ❌ 不保存到数据库（不累积经验和货币）
- ❌ 不会真正升级

**正式模式**（登录后）：
- ✅ 评分结果保存到数据库
- ✅ 累积经验值
- ✅ 赚取货币
- ✅ 真实升级
- ✅ 查看历史作品

---

## 📊 评分系统详解

评分系统基于**4个维度**，每个维度满分100分：

### 1. 🎨 颜色匹配 (Color Score)

**当前实现**: 固定85分（暂时）

**未来计划**:
- 根据染色深度的和谐性评分
- 检查颜色渐变是否自然
- 评估蓝染色系的纯度

**影响因素**:
- 染色深度的选择
- 多个图案的颜色搭配

---

### 2. 🌀 纹样复杂度 (Pattern Score)

**评分标准**（满分100）:

#### 图层数量（30分）
```
1-5层: 最佳
- 1层: 6分
- 2层: 12分
- 3层: 18分
- 4层: 24分
- 5层+: 30分
```

**建议**: 添加3-5个图层

#### 覆盖率（30分）
```
根据不透明度和染色深度计算
理想值: 总和约4（适度覆盖）
```

**公式**: `sum(opacity × (1 + dyeDepth))`

**建议**: 
- 不要所有图案都是100%不透明
- 适当调整染色深度创造层次

#### 纹样多样性（20分）
```
使用1种图案: 0分
使用2种图案: 10分
使用3种图案: 20分
```

**建议**: 尽量使用不同的图案组合

#### 参数精细度（20分）
```
检查是否调整了：
- 缩放（scale ≠ 1）: +3分/层
- 旋转（rotation > 5°）: +3分/层  
- 位置（x,y 不在中心）: +2分/层
- 不透明度（opacity < 0.9）: +2分/层
```

**建议**: 不要使用默认值，多调整属性

---

### 3. ✨ 创意指数 (Creativity Score)

**评分标准**（满分100）:

#### 纹样组合独特性（30分）
```
基于使用的图案组合
组合越复杂得分越高
```

#### 参数变化丰富度（30分）
```
检查各图层的参数差异:
- 缩放变化: 标准差越大越好
- 不透明度变化: 标准差越大越好
- 旋转角度变化: 标准差越大越好
```

**建议**: 不要所有图层都用相同参数

#### 染色深度变化（20分）
```
理想情况: 适度变化（标准差约0.2）
太一致: 低分
变化太大: 也会降分
```

**建议**: 染色深度有层次，但不要极端

#### 布局创意（20分）
```
检查图案的位置分布:
- 全部堆在一起: 低分
- 分散在画布上: 高分
```

**建议**: 将图案分散放置到画布的不同位置

---

### 4. 🖌️ 技法评分 (Technique Score)

**评分标准**（满分100）:

#### 图层叠加技巧（40分）
```
检查是否合理使用透明度:
如果有图层的不透明度在30%-80%之间: 得分
```

**建议**: 至少有一层使用半透明效果

#### 染色渐进（30分）
```
检查染色深度是否递增:
理想情况: depth[i] >= depth[i-1] - 0.1
```

**建议**: 从浅到深逐渐加深染色

#### 纹样搭配（30分）
```
检查图案的多样性和合理性:
- 使用多种图案但不过度: 30分
- 只用一种图案: 15分
```

**建议**: 使用2-3种不同图案

---

## 🏆 总分计算

### 平均分
```
总分 = (颜色分 + 纹样分 + 创意分 + 技法分) / 4
```

### 等级划分
```
SSS: 95-100分  → 200经验 + 100货币 💰
SS:  90-94分   → 150经验 + 70货币
S:   80-89分   → 100经验 + 50货币
A:   70-79分   → 70经验 + 30货币
B:   60-69分   → 50经验 + 20货币
C:   0-59分    → 30经验 + 10货币
```

---

## 🎯 如何获得高分？

### SSS级作品示例

```
图层配置:
1. 波纹图案
   - 位置: (30%, 30%)
   - 染色深度: 0.4
   - 不透明度: 0.7
   - 缩放: 1.2
   - 旋转: 15°

2. 格纹图案
   - 位置: (70%, 50%)
   - 染色深度: 0.6
   - 不透明度: 0.5
   - 缩放: 0.8
   - 旋转: 45°

3. 花瓣图案
   - 位置: (50%, 75%)
   - 染色深度: 0.8
   - 不透明度: 0.6
   - 缩放: 1.5
   - 旋转: 90°

4. 波纹图案（第二个）
   - 位置: (25%, 70%)
   - 染色深度: 0.5
   - 不透明度: 0.4
   - 缩放: 0.9
   - 旋转: 120°
```

**为什么高分？**
- ✅ 4层图案（纹样复杂度高）
- ✅ 使用3种不同图案（多样性）
- ✅ 位置分散（布局创意）
- ✅ 染色深度递增（技法）
- ✅ 不透明度都有调整（叠加技巧）
- ✅ 缩放和旋转各不相同（参数丰富度）

---

## 📈 实战技巧

### 初学者策略（目标: A级）

**步骤**:
1. 选择3种不同图案
2. 分别放置到画布的左、中、右
3. 调整染色深度: 0.4 → 0.6 → 0.8
4. 调整不透明度: 0.7 → 0.6 → 0.5
5. 随意旋转一下

**预期得分**: 70-80分（A-S级）

---

### 进阶策略（目标: SS级）

**步骤**:
1. 使用4-5个图层
2. 至少使用3种图案
3. 位置分散到画布四个角落+中心
4. 染色深度: 0.3 → 0.5 → 0.7 → 0.9（渐进）
5. 不透明度: 0.8 → 0.6 → 0.5 → 0.4（递减）
6. 每个图案都旋转不同角度（0°, 45°, 90°, 135°）
7. 缩放有大有小（0.8, 1.0, 1.3, 1.5）

**预期得分**: 85-92分（S-SS级）

---

### 大师策略（目标: SSS级）

**关键**:
- 所有参数都要调整到极致
- 位置分布要有美感和平衡
- 染色深度要有明显的层次但又和谐
- 不透明度要创造出若隐若现的效果
- 图案组合要有主次关系

**难点**: 需要多次尝试和调整

---

## 🔍 调试技巧

### 查看评分详情

在浏览器开发者工具（F12）的Console中：
```
🎯 测试模式评分结果: {
  dimensions: {
    color_score: 85,
    pattern_score: 67,    ← 纹样复杂度
    creativity_score: 73, ← 创意指数
    technique_score: 60   ← 技法评分
  },
  total_score: 71,        ← 总分
  grade: "A"              ← 等级
}
```

### 分析低分原因

**如果纹样分低**:
- 图层太少？→ 增加到3-5层
- 参数都是默认值？→ 调整缩放、旋转
- 只用一种图案？→ 换不同图案

**如果创意分低**:
- 所有图案参数都一样？→ 增加变化
- 图案都堆在一起？→ 分散放置
- 染色深度太统一？→ 创造层次

**如果技法分低**:
- 没有半透明图层？→ 调整不透明度
- 染色深度乱序？→ 按从浅到深排列
- 图案种类太少或太杂？→ 调整组合

---

## 💡 常见问题

### Q1: 为什么我的作品只有C级？
**A**: 可能是：
- 图层太少（只有1-2层）
- 没有调整任何参数
- 只用了一种图案
- 所有图案都在同一位置

**解决**: 参考"初学者策略"

---

### Q2: 怎么才能稳定A级？
**A**: 
- 至少3层，使用2-3种图案
- 位置分散开
- 染色深度有递增
- 至少调整一些参数（不要全是默认值）

---

### Q3: SSS级是不是很难？
**A**: 确实需要：
- 4-5层精心设计
- 所有参数都调整
- 布局有美感
- 染色深度渐进且和谐

**建议**: 先追求稳定S级，再冲刺SSS

---

### Q4: 测试模式和正式模式评分一样吗？
**A**: 
- 评分算法完全一样
- 唯一区别: 测试模式不保存数据

**建议**: 先在测试模式练习，熟悉后再登录使用正式模式

---

## 🚀 下一步

### 立即尝试
1. 访问 `/game/workshop`
2. 创作一个作品
3. 点击"完成创作"
4. 查看评分详情
5. 根据反馈调整策略
6. 再次尝试，冲击更高等级！

### 记录你的最高分
```
我的记录:
- 首次评分: ____ 分 (___级)
- 最高评分: ____ 分 (___级)
- SSS达成: □ 未达成 / □ 已达成
```

---

## 📊 评分统计（示例）

基于测试，典型得分分布：
```
随便点几下: 30-50分 (C级)
按教程初试: 60-75分 (B-A级)
认真创作:   75-88分 (A-S级)
精心设计:   88-95分 (S-SS级)
完美作品:   95-100分 (SSS级)
```

---

**现在就去创作，冲击SSS级吧！** 🎨✨
