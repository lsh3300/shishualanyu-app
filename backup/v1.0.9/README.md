# 世说蓝语项目 - v1.0.9 版本文档

## 版本信息
- **版本号**: v1.0.9
- **提交ID**: 277024f
- **发布日期**: 2025-11-21
- **主要更新**: 统一产品、教程ID格式及相关功能更新

## 项目概述
世说蓝语是一个综合性文化产品和教程平台，提供传统手工艺教学、产品展示和在线购买功能。本版本重点优化了系统架构，统一了ID格式，提升了系统的可维护性和扩展性。

## 功能模块
1. **产品管理** - 传统蓝染产品展示与销售
2. **教程系统** - 蓝染技艺教学内容
3. **用户系统** - 用户注册、登录和个人信息管理
4. **收藏功能** - 产品和教程收藏
5. **购物车** - 产品购买流程
6. **搜索功能** - 全站内容搜索

## 技术架构
- **前端**: Next.js 14, React, TypeScript
- **后端**: Next.js API Routes
- **数据库**: Supabase (PostgreSQL)
- **存储**: AWS S3
- **认证**: Supabase Auth

## 数据库结构
### 主要表结构
1. **products** - 产品信息表
2. **courses** - 教程信息表
3. **users** - 用户信息表
4. **favorites** - 收藏信息表
5. **carts** - 购物车信息表
6. **orders** - 订单信息表

## 项目结构
```
sslyapp/
├── app/            # Next.js App Router
├── components/     # UI组件
├── lib/            # 工具函数
├── hooks/          # React钩子
├── data/           # 数据模型和种子数据
├── config/         # 配置文件
├── public/         # 静态资源
├── scripts/        # 脚本工具
├── docs/           # 文档
└── backup/         # 版本备份
```

## 更新内容
### v1.0.9 主要更新
1. **统一ID格式**
   - 标准化产品ID和教程ID的格式规范
   - 更新所有相关组件以支持新的ID格式

2. **API路由优化**
   - 更新和重构多个API路由
   - 添加新的课程相关API端点
   - 优化用户收藏功能API

3. **调试工具增强**
   - 添加多个调试API端点
   - 改进产品和课程数据检查工具
   - 添加购物车流程测试API

4. **收藏功能优化**
   - 重构use-favorites钩子
   - 改进收藏功能的性能和稳定性

5. **前端页面更新**
   - 更新首页展示逻辑
   - 优化产品和课程详情页
   - 更新分类页面布局

## 备份内容
本备份包含以下文件：
- README.md - 版本详细信息
- .env.example - 环境变量配置模板
- backup-report.md - 备份报告
- recovery-guide.md - 恢复指南
- BACKUP_SUMMARY.md - 备份总结

## 快速恢复步骤
1. 克隆仓库：`git clone <repository-url>`
2. 切换到标签：`git checkout v1.0.9`
3. 安装依赖：`npm install`
4. 配置环境变量：根据.env.example创建.env.local
5. 启动开发服务器：`npm run dev`

## 注意事项
- 请确保正确配置Supabase和AWS S3相关环境变量
- 数据库需要预先设置好所需的表结构和权限
- 首次部署前请运行初始化脚本设置必要的数据