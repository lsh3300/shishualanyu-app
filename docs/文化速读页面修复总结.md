# 文化速读页面修复总结

## 修复的问题

### 1. ✅ 文化速读列表页没有返回按钮

**问题**: `/culture` 页面缺少返回首页的按钮

**修复**:
- 在页面头部添加了 `BackButton` 组件
- 位置：标题"蓝染文化速读"上方
- 点击后返回首页 (`/`)

**文件**: `app/culture/page.tsx`

```tsx
<div className="mb-4">
  <BackButton href="/" label="返回首页" />
</div>
```

---

### 2. ✅ 首页文章卡片点击后显示 404

**问题**: 首页"蓝染的历史渊源"文章使用了错误的 ID

**原因**:
- 首页使用的是数字 ID: `"1"`
- 但文章详情页使用的是 slug 路由: `/culture/[slug]`
- 实际文章的 slug 是: `ancient-indigo-history`

**修复**:
- 将首页文章数组中的 ID 从 `"1"` 改为 `"ancient-indigo-history"`
- 现在点击后会正确跳转到 `/culture/ancient-indigo-history`

**文件**: `app/page.tsx`

```tsx
const cultureArticles = [
  {
    id: "ancient-indigo-history",  // ✅ 修复：使用正确的 slug
    title: "蓝染的历史渊源",
    excerpt: "从古代丝绸之路到现代时尚，蓝染工艺承载着深厚的文化底蕴...",
    image: "/ancient-indigo-dyeing-history-silk-road.jpg",
    readTime: "5分钟",
  },
]
```

---

## 测试验证

### 测试 1: 文化速读列表页返回按钮

1. 访问 `http://localhost:3000/culture`
2. ✅ 应该看到页面顶部有"返回首页"按钮
3. ✅ 点击后返回到首页

### 测试 2: 首页文章链接

1. 访问 `http://localhost:3000`
2. 找到"文化速读"部分的"蓝染的历史渊源"卡片
3. ✅ 点击后应该跳转到文章详情页
4. ✅ 不应该再显示 404 错误

---

## 技术细节

### 文章路由结构

```
首页 (/)
  └─ 文化速读卡片
      └─ 点击跳转 → /culture/ancient-indigo-history
                      ↓
                   文章详情页
```

### ID vs Slug

- **数字 ID**: 数据库主键，UUID 格式（如 `a1111111-1111-1111-1111-111111111111`）
- **Slug**: URL 友好的标识符（如 `ancient-indigo-history`）
- **路由使用**: 详情页使用 slug 作为路由参数

---

## 后续优化建议

### 1. 首页动态加载文章

目前首页的文章是硬编码的，建议改为从 Supabase 动态获取：

```tsx
// app/page.tsx
export default async function HomePage() {
  const supabase = createServerClient()
  
  // 获取最新的 3 篇文章
  const { data: articles } = await supabase
    .from('culture_articles')
    .select('slug, title, excerpt, cover_image, read_time')
    .eq('status', 'published')
    .order('created_at', { ascending: false })
    .limit(3)
  
  return (
    // 使用动态数据
    {articles?.map(article => (
      <CultureArticleCard 
        key={article.slug}
        id={article.slug}
        title={article.title}
        excerpt={article.excerpt}
        image={article.cover_image}
        readTime={`${article.read_time}分钟`}
      />
    ))}
  )
}
```

### 2. 添加更多文章到首页

可以在首页展示 2-3 篇精选文章，而不是只有一篇。

### 3. 错误处理

在文章详情页添加更友好的错误提示：
- 文章不存在时显示 "文章未找到"
- 提供返回链接或相关文章推荐

---

## 修改的文件清单

- ✅ `app/culture/page.tsx` - 添加返回按钮
- ✅ `app/page.tsx` - 修复文章 ID

---

## 完成时间

2025-11-22

## 相关文档

- [统一返回按钮使用指南](./docs/BACK_BUTTON_GUIDE.md)
- [返回按钮统一优化总结](./返回按钮统一优化总结.md)
